<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="repair_order_list_custom_view" model="ir.ui.view">
        <field name="name">repair.order.list.custom</field>
        <field name="model">repair.order</field>
        <field name="arch" type="xml">
            <list string="Repair Orders">
                <field name="name"/>
                <field name="state"/>
                <field name="product_id"/>
                <field name="partner_id"/>
                <field name="create_date"/>
                <field name="x_numero_consultas"/>
                <field name="x_forecast_availibility"
                   decoration-success="x_forecast_availibility == 0"
                   decoration-danger="x_forecast_availibility > 0"/>
            </list>
        </field>
    </record>

    <record id="view_worksheet_template_list_custom" model="ir.ui.view">
        <field name="name">worksheet.template.list.custom</field>
        <field name="model">worksheet.template</field>
        <field name="arch" type="xml">
            <list string="Worksheet Templates">
                <field name="name"/>
                <field name="res_model"/>
                <field name="create_date"/>
                <!-- Agrega un campo personalizado si existe, como un conteo de worksheets generadas -->
                <field name="worksheet_count" optional="hide"/>
            </list>
        </field>
    </record>

    <record id="custom_repair_order_server_config" model="ir.actions.server">
        <field name="name">Manage Repair Orders</field>
        <field name="model_id" ref="repair.model_repair_order"/>
        <field name="state">code</field>
        <field name="code">
            action = env['ir.actions.act_window']._for_xml_id('custom_repair_product.action_repair_order_window_config')
        </field>
    </record>

    <record id="custom_worksheet_windows_config" model="ir.actions.server">
        <field name="name">Planning by Worksheet Template Server Action</field>
        <field name="model_id" ref="repair.model_repair_order"/>
        <field name="state">code</field>
        <field name="code">action = env['ir.actions.act_window']._for_xml_id('custom_repair_product.action_worksheet_window_config')
        </field>
    </record>
    
    <record id="action_repair_order_window_config" model="ir.actions.act_window">
        <field name="name">Manage Repair Orders</field>
        <field name="res_model">repair.order</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="custom_repair_product.repair_order_list_custom_view"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No repair orders found. Let's create one!
            </p><p>
                Manage and configure your repair orders efficiently.
            </p>
        </field>
    </record>

    <record id="custom_worksheet_window_action" model="ir.actions.act_window">
    <field name="name">Worksheet Templates</field>
    <field name="res_model">worksheet.template</field>
    <field name="view_mode">list</field>
    <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
            No worksheet templates found. Let's create one!
        </p><p>
            Tailor worksheet templates to your specific needs. Easily share worksheet content with customers and request their signatures to validate the completed work.<br/>
        </p>
    </field>
</record>

    <menuitem id="menu_repair_order_config"
        name="Manage Repair Orders"
        parent="repair.repair_menu_config"
        action="custom_repair_order_server_config"
        sequence="4"
    />

        
    <menuitem id="menu_worksheet_config"
    name="Plantillas de trabajo"
    parent="repair.repair_menu_config"
    action="custom_repair_product.custom_worksheet_window_action"
    sequence="5"/>

</odoo>
